# MeetSphere

Мобильное приложение для поиска и создания локальных активностей «здесь и сейчас». Цель — показывать только уместные события рядом и сокращать путь от интереса до участия.

## Введение

- Назначение: карта актуальных активностей поблизости, простое создание своей активности и мгновенная коммуникация с организатором.
- Ценность: релевантность по близости и времени, минимум действий до результата.
- Статус: MVP.

## Ключевые возможности

- Карта активностей рядом с лаконичными мини‑описаниями.
- Создание активности за минуту с контролем видимости и радиуса.
- Прямой контакт с организатором из карточки события.

## Сценарии использования

- Спонтанный досуг: присоединиться к событию рядом в свободное окно.
- Спорт и хобби: быстро найти партнёров в парке/зале/дворе.
- Помощь и микро‑инициативы: собрать соседей на короткую задачу.
- Знакомство с районом: влиться в локальное сообщество через активности.

## Платформы и совместимость

- Платформа: Android.
- Минимальная версия ОС: Android 8.0+ (уточняется по проекту).
- Язык/сборка: Kotlin, Gradle (KTS).

## Технологический стек

- Ядро: Kotlin, Coroutines, Flow, MVVM.
- DI: Hilt.
- Карта: osmdroid (OpenStreetMap).
- Данные: Firebase Authentication, Firestore.
- UI: Jetpack (View/Compose по проекту).
- Тестирование: JUnit, MockK, kotlinx-coroutines-test.
- Сборка: Gradle (KTS).

## Архитектура (кратко)

- Слои:
  - Presentation: экраны + ViewModel с UiState (StateFlow), одноразовые события (SharedFlow).
  - Domain: модели (User, Activity, MapMarker), контракты (репозитории).
  - Data: реализации репозиториев, DTO ↔ Domain маппинг, доступ к облаку и локации.
- Ключевые контракты:
  - AuthRepository: аутентификация, профиль, получение текущего пользователя.
  - LocationRepository: поток текущей локации.
  - ActivitiesRepository: ближайшие активности, создание/закрытие, загрузка деталей.
  - ChatRepository: создание/поиск диалога с организатором.
- Поток данных:
  - Локация → фильтрация активностей по близости и видимости → обновление состояния UI → взаимодействие (детали/чат/создание).

## Структура проекта

- app/
  - ui/ … экраны, адаптеры, карта
  - viewmodel/ … UiState, навигационные события
  - domain/ … модели и интерфейсы репозиториев
  - data/ … реализации репозиториев, DTO, источники данных
  - util/ … вспомогательные компоненты

## Быстрый старт

- Требования: Android Studio, JDK, Android SDK.
- Шаги:
  - Клонировать репозиторий, открыть проект.
  - Убедиться в наличии конфигурации для облака и ключей.
  - Собрать и запустить на устройстве/эмуляторе.
- При первом запуске:
  - Выдать разрешение на геолокацию.
  - Войти/зарегистрироваться.

## Использование

- Поиск активностей:
  - Открыть карту, дождаться определения локации.
  - Нажать на событие → перейти к подробностям → связаться с организатором.
- Создание активности:
  - Открыть форму создания.
  - Ввести описание, видимость, радиус.
  - Опубликовать — событие появится у пользователей поблизости.

## Тестирование

- Подход:
  - Репозитории: корректность фильтрации по расстоянию/радиусу, обработка пустых полей, режим видимости.
  - ViewModel: проверка UiState после выполнения фоновых сценариев.
- Инструменты:
  - kotlinx-coroutines-test для управления временем и диспетчером.
  - MockK для стабов репозиториев и зависимостей.
  - JUnit для сценариев и утверждений.
